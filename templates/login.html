<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login ‚Äì DreamLayout</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
        }

        .glass {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(16px);
        }

        .dark .glass {
            background: rgba(15, 23, 42, 0.6);
            border-color: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body
    class="bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 min-h-screen relative transition-colors duration-300 py-12 flex flex-col items-center p-6">

    <!-- Decorative Animated Background -->
    <div class="absolute top-0 left-0 w-full min-h-full overflow-hidden pointer-events-none z-0">
        <div
            class="absolute -top-24 -left-24 w-96 h-96 bg-violet-200/50 dark:bg-violet-900/20 rounded-full blur-[100px] animate-pulse">
        </div>
        <div
            class="absolute -bottom-24 -right-24 w-96 h-96 bg-indigo-200/50 dark:bg-indigo-900/20 rounded-full blur-[100px] animate-pulse delay-700">
        </div>
    </div>

    <!-- Login Card -->
    <div
        class="w-full max-w-md relative z-10 glass border border-white dark:border-slate-800 rounded-[3rem] p-10 shadow-2xl shadow-slate-200/50 dark:shadow-none my-auto">

        <div class="text-center mb-10">
            <a href="/" class="inline-flex items-center gap-3 mb-6 group">
                <img src="/static/logo.png" alt="Logo"
                    class="h-10 w-auto group-hover:scale-110 transition dark:brightness-110">
                <span
                    class="text-2xl font-black bg-clip-text text-transparent bg-gradient-to-r from-violet-700 to-indigo-700 dark:from-violet-400 dark:to-indigo-400">DreamLayout</span>
            </a>
            <h1 class="text-3xl font-extrabold text-slate-900 dark:text-slate-100">Welcome Back</h1>
            <p class="text-slate-500 dark:text-slate-400 font-bold text-sm mt-2 uppercase tracking-widest">Sign in to
                continue</p>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div
            class="mb-6 p-4 rounded-2xl text-sm font-bold flex items-center gap-3 animate-fade-in-up border
            {{ 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-100 dark:border-emerald-800 text-emerald-600 dark:text-emerald-400' if category == 'success' else 'bg-rose-50 dark:bg-rose-900/20 border-rose-100 dark:border-rose-800 text-rose-600 dark:text-rose-400' }}">
            <span>{{ '‚úÖ' if category == 'success' else '‚ö†Ô∏è' }}</span> {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}

        <form action="/login" method="POST" class="space-y-6">
            <div>
                <label class="block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 ml-4">Email
                    Address</label>
                <input type="email" name="email" required
                    class="w-full px-6 py-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900 focus:ring-4 focus:ring-violet-100 dark:focus:ring-violet-900/20 focus:border-violet-500 focus:outline-none transition-all font-bold text-slate-900 dark:text-slate-100 placeholder:text-slate-400/30 dark:placeholder:text-slate-500/30"
                    placeholder="architect@example.com">
            </div>

            <div>
                <div class="flex justify-between items-center mb-2 px-4">
                    <label class="text-[10px] font-black text-slate-400 uppercase tracking-widest">Password</label>
                    <a href="#"
                        class="text-[10px] font-black text-violet-600 dark:text-violet-400 uppercase tracking-widest hover:underline">Forgot?</a>
                </div>
                <div class="relative group">
                    <input type="password" id="password" name="password" required
                        class="w-full px-6 py-4 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/50 dark:bg-slate-900 focus:ring-4 focus:ring-violet-100 dark:focus:ring-violet-900/20 focus:border-violet-500 focus:outline-none transition-all font-bold text-slate-900 dark:text-slate-100 placeholder:text-slate-400/30 dark:placeholder:text-slate-500/30"
                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                    <button type="button" onclick="togglePassword()"
                        class="absolute right-5 top-1/2 -translate-y-1/2 text-slate-300 hover:text-violet-500 transition">
                        <svg id="eye-icon" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                            </path>
                        </svg>
                    </button>
                </div>
            </div>

            <button type="submit"
                class="w-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 py-4 rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl shadow-slate-200/50 dark:shadow-none hover:bg-slate-800 dark:hover:bg-slate-100 transition-all transform hover:-translate-y-0.5 mt-4">
                Sign In
            </button>
        </form>

        <div class="mt-10 text-center">
            <p class="text-sm font-bold text-slate-400">
                Don't have an account?
                <a href="/signup" class="text-violet-600 dark:text-violet-400 hover:underline">Create One</a>
            </p>
        </div>

        <!-- Theme Toggle Footer -->
        <div class="mt-8 pt-8 border-t border-slate-100 dark:border-slate-800 flex justify-center gap-4">
            <button onclick="setTheme('light')"
                class="theme-btn light w-8 h-8 rounded-full bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center shadow-sm">‚òÄÔ∏è</button>
            <button onclick="setTheme('dark')"
                class="theme-btn dark w-8 h-8 rounded-full bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center shadow-sm">üåô</button>
            <button onclick="setTheme('system')"
                class="theme-btn system w-8 h-8 rounded-full bg-white dark:bg-slate-800 border border-slate-100 dark:border-slate-700 flex items-center justify-center shadow-sm text-xs">üíª</button>
        </div>
    </div>

    <script>
            // Init Theme
            (function () {
                const saved = localStorage.getItem('theme') || 'system';
                applyTheme(saved);
            })();

        function applyTheme(theme) {
            const html = document.documentElement;
            const darkQuery = window.matchMedia('(prefers-color-scheme: dark)');
            if (theme === 'dark' || (theme === 'system' && darkQuery.matches)) {
                html.classList.add('dark');
            } else {
                html.classList.remove('dark');
            }
            localStorage.setItem('theme', theme);
            updateThemeUI(theme);
        }

        function setTheme(theme) { applyTheme(theme); }

        function updateThemeUI(theme) {
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.classList.remove('ring-2', 'ring-violet-500', 'border-violet-500');
                if (btn.classList.contains(theme)) {
                    btn.classList.add('ring-2', 'ring-violet-500', 'border-violet-500');
                }
            });
        }

        function togglePassword() {
            const p = document.getElementById('password');
            p.type = p.type === 'password' ? 'text' : 'password';
        }
    </script>

</body>

</html>